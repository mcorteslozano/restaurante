{% extends 'base.html.twig' %}

{% block title %}Gestiona JMJ{% endblock %}

{% block body %}

    {% for flash_message in app.session.flashbag.get('new_proveedor') %}
        <div class="alert alert-success" role="alert">
            {{ flash_message }}
        </div>
    {% endfor %}

        {% for flash_message in app.session.flashbag.get('delete_proveedor') %}
        <div class="alert alert-danger" role="alert">
            {{ flash_message }}
        </div>
    {% endfor %}


    <h3>Proveedores</h3>

    <table class="table">
        <thead>
            <tr>
                <th>Nombre</th>
                <th>Código Postal</th>
                <th>Localidad</th>
                <th>Email</th>
                <th>Teléfono</th>
                <th></th>
                <th></th>
            </tr>
        </thead>
        <tbody>
        {% for proveedor in proveedors %}
            <tr class="hover_fila">
                <td>{{ proveedor.nombre }}</td>
                <td>{{ proveedor.codigoPostal }}</td>
                <td>{{ proveedor.localidad }}</td>
                <td>{{ proveedor.email }}</td>
                <td>{{ proveedor.telefono }}</td>
                <td colspan="2"><a href="{{ path('proveedor_edit', {'id': proveedor.id}) }}"><img class="icono_editdetele" src="/img/icono-editar.svg"/></a></td>
                <td>{{ include('proveedor/_delete_form.html.twig') }}</td>
            </tr>
        {% else %}
            <tr>
                <td colspan="7">No hay proovedores registrados.</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>

    <a href="{{ path('proveedor_new') }}">Añadir proveedor</a>
{% endblock %}
